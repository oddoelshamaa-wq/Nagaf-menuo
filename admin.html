<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAGAF - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap" rel="stylesheet">

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics.js";
      import { getFirestore, collection, getDocs, addDoc, deleteDoc, doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
      const firebaseConfig = {
        apiKey: "AIzaSyB2zcN93-S1Af-HtM_I6BKNh2yx1e8gzkc",
        authDomain: "nagaf-menuo.firebaseapp.com",
        projectId: "nagaf-menuo",
        storageBucket: "nagaf-menuo.firebasestorage.app",
        messagingSenderId: "1049134380868",
        appId: "1:1049134380868:web:de3fa3f89c83b5a8be8911",
        measurementId: "G-YTSRN50K1G"
      };

      // ØªÙ‡ÙŠØ¦Ø© Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app); // Ø¥Ø¶Ø§ÙØ© Analytics Ù‡Ù†Ø§
      const db = getFirestore(app);

      // Ø¬Ø¹Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ§Ø­Ø© Ù„Ø¨Ù‚ÙŠØ© Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
      window.db = db;
    </script>

    <style>
        :root { --gold: #d4af37; --bg: #0a0a0a; --card: #161616; --accent: #222; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }
        
        body { background-color: var(--bg); color: white; padding-bottom: 80px; }

        header { 
            background: linear-gradient(to left, #000, var(--card));
            padding: 20px 5%; border-bottom: 1px solid var(--gold);
            display: flex; justify-content: space-between; align-items: center;
        }
        header h1 { font-weight: 900; color: var(--gold); letter-spacing: 5px; }

        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }

        .tabs { display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .tab-btn { 
            padding: 12px 25px; border: 1px solid var(--gold); background: transparent; 
            color: var(--gold); cursor: pointer; border-radius: 8px; font-weight: bold; transition: 0.3s;
        }
        .tab-btn.active { background: var(--gold); color: black; }

        .content-section { display: none; animation: fadeIn 0.5s ease; }
        .content-section.active { display: grid; grid-template-columns: 1fr 1.5fr; gap: 30px; }
        
        @media (max-width: 768px) { .content-section.active { grid-template-columns: 1fr; } }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .form-box { background: var(--card); padding: 25px; border-radius: 20px; border: 1px solid #333; height: fit-content; position: sticky; top: 100px; }
        .form-box h3 { color: var(--gold); margin-bottom: 20px; border-right: 3px solid var(--gold); padding-right: 10px; }
        
        input, select, textarea { 
            width: 100%; padding: 12px; margin-bottom: 15px; background: var(--accent); 
            border: 1px solid #444; color: white; border-radius: 8px; outline: none;
        }
        input:focus { border-color: var(--gold); }
        
        button.save-btn { 
            width: 100%; padding: 15px; background: var(--gold); border: none; 
            color: black; font-weight: 900; border-radius: 8px; cursor: pointer; transition: 0.3s;
        }
        button.save-btn:hover { background: white; transform: scale(1.02); }

        .display-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .item-card { 
            background: var(--card); border-radius: 12px; overflow: hidden; 
            border: 1px solid #333; transition: 0.3s; position: relative; padding-bottom: 10px;
        }
        .item-card:hover { border-color: var(--gold); }
        .item-card img { width: 100%; height: 120px; object-fit: cover; }
        .item-info { padding: 10px; }
        .item-info h4 { font-size: 0.9rem; color: var(--gold); }
        .item-info p { font-size: 0.75rem; opacity: 0.7; margin-top: 3px; }

        .tag { background: var(--gold); color: black; font-size: 0.6rem; padding: 2px 8px; border-radius: 4px; display: inline-block; margin-bottom: 5px; font-weight: bold; }

        .delete-btn {
            position: absolute; top: 5px; right: 5px; background: rgba(255,0,0,0.8);
            border: none; color: white; width: 25px; height: 25px; border-radius: 50%;
            cursor: pointer; font-size: 0.8rem; z-index: 10;
        }

        .empty-msg { text-align: center; grid-column: 1/-1; opacity: 0.5; padding: 50px; border: 2px dashed #333; border-radius: 20px; }

        #previewArea { margin-top: 20px; padding: 10px; border: 1px dashed var(--gold); border-radius: 10px; display: none; }

        /* Floating buttons */
        .floating-actions {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 15px; background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px; border-radius: 50px; backdrop-filter: blur(10px);
            border: 1px solid #333; z-index: 1000;
        }
        .btn-visit { background: #1a1a1a; color: #4a90e2; text-decoration: none; padding: 8px 18px; border-radius: 12px; font-weight: bold; border: 1px solid #333; }
        .btn-navigate { background: #ffcc00; color: #000; border: 2px solid #fff; padding: 8px 30px; border-radius: 20px; font-weight: 900; cursor: pointer; }
        .btn-logout { background: #dc3545; color: white; border: none; padding: 8px 18px; border-radius: 12px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <header>
        <h1>NAGAF DASHBOARD</h1>
        <a href="index.html" style="color: white; text-decoration: none;">ğŸ” Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>
    </header>

    <div class="container">
        <!-- ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('offersTab', this)">ğŸ Ø§Ù„Ø¹Ø±ÙˆØ¶</button>
            <button class="tab-btn" onclick="showTab('sandwichesTab', this)">ğŸ¥ª Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´Ø§Øª</button>
            <button class="tab-btn" onclick="showTab('catsTab', this)">ğŸ“‚ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø§Ù„Ù…Ù†ÙŠÙˆ)</button>
            <button class="tab-btn" onclick="showTab('branchesTab', this)">ğŸ›ï¸ Ø§Ù„ÙØ±ÙˆØ¹</button>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶ -->
        <div id="offersTab" class="content-section active">
            <div class="form-box">
                <h3>Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ ÙˆØ¬Ø¨Ø©</h3>
                <input type="text" id="pName" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±Ø¶ (Ù…Ø«Ù„Ø§Ù‹: Ø¹Ø±Ø¶ Ø§Ù„ÙØ·Ø§Ø± Ø§Ù„Ø´Ø¹Ø¨ÙŠ)">
                <input type="number" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ù…Ø«Ù„Ø§Ù‹: 52)">
                
                <!-- Ø§Ù„Ø®Ø§Ù†Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ¬Ø¨Ø© -->
                <textarea id="pComponents" placeholder="Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ (Ù…Ø«Ù„Ø§Ù‹: ÙÙˆÙ„ + Ø·Ø¹Ù…ÙŠØ© + Ø¨Ø·Ø§Ø·Ø³ + Ø¹ÙŠØ´)" rows="3" 
                style="width: 100%; padding: 12px; background: var(--accent); border: 1px solid #444; color: white; border-radius: 8px; margin-bottom: 15px;"></textarea>

                <select id="pCat">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…...</option>
                </select>
                
                <input type="text" id="pOffer" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø© Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ù„Ø§Ù‹: Ø§Ù„Ø¹ÙŠØ´ 2 Ø¨Ù„Ø¯ÙŠ Ø£Ùˆ 3 Ø´Ø§Ù…ÙŠ)">
                
                <label style="font-size: 0.8rem;">ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶:</label>
                <input type="file" id="pImage" accept="image/*" onchange="previewImage(this)">
                
                <div id="previewArea">
                    <img id="imgPre" src="" style="width: 100%; border-radius: 5px;">
                </div>

                <button class="save-btn" onclick="addProduct()">âœ¨ Ù†Ø´Ø± Ø§Ù„Ø¹Ø±Ø¶ ÙÙŠ Ø§Ù„Ù…Ù†ÙŠÙˆ</button>

                <input type="checkbox" id="oVisible" checked style="margin-top: 10px;"> <label for="oVisible" style="font-size: 0.8rem;">Ø¹Ø±Ø¶ ÙÙŠ Ø§Ù„Ù…Ù†ÙŠÙˆ</label>
            </div>

            <div class="display-list" id="pList"></div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´Ø§Øª -->
        <div id="sandwichesTab" class="content-section">
            <div class="form-box">
                <h3>Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ù†Ø¯ÙˆØªØ´</h3>
                <input type="text" id="sName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´">
                <input type="number" id="sPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¬.Ù…)">
                
                <select id="sCat">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…...</option>
                </select>
                
                <input type="text" id="sOffer" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø© Ø¥Ø¶Ø§ÙÙŠØ©">
                
                <label style="font-size: 0.8rem;">ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´:</label>
                <input type="file" id="sImage" accept="image/*" onchange="previewImage(this)">
                
                <div id="previewArea">
                    <img id="imgPre" src="" style="width: 100%; border-radius: 5px;">
                </div>

                <button class="save-btn" onclick="addSandwich()">ğŸ¥ª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´</button>
            </div>

            <div class="display-list" id="sList"></div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
        <div id="catsTab" class="content-section">
            <div class="form-box">
                <h3>Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</h3>
                <p style="font-size: 0.8rem; margin-bottom: 10px; color: #aaa;">Ù…Ø«Ø§Ù„: Ø¬Ø±ÙŠÙ„ØŒ Ù…Ø´ÙˆÙŠØ§ØªØŒ Ù…Ù‚Ø¨Ù„Ø§ØªØŒ Ø­Ù„ÙˆÙŠØ§Øª...</p>
                <input type="text" id="catName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯">
                <button class="save-btn" onclick="addCategory()">ğŸ“ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…</button>
            </div>

            <div class="display-list" id="catList"></div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„ÙØ±ÙˆØ¹ -->
        <div id="branchesTab" class="content-section">
            <div class="form-box">
                <h3>Ø¥Ø¶Ø§ÙØ© ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯</h3>
                <input type="text" id="bName" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹">
                <input type="text" id="bAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
                <input type="text" id="bTime" placeholder="Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„">
                <input type="text" id="bPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                <button class="save-btn" onclick="addBranch()">ğŸ›ï¸ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ±Ø¹</button>
            </div>

            <div class="display-list" id="bList"></div>
        </div>
    </div>

    <script>
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      if (localStorage.getItem('admin_logged_in') !== 'true') {
        window.location.href = 'login.html';
      }
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if (localStorage.getItem('admin_logged_in') !== 'true') {
            window.location.href = 'login.html';
        }

        // Ù…ØµÙÙˆÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        let branches = [];
        let products = [];
        let sandwiches = [];
        let categories = [];

        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Firebase
        async function loadData() {
            try {
                const offersSnapshot = await getDocs(collection(window.db, 'offers'));
                products = offersSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));

                const sandwichesSnapshot = await getDocs(collection(window.db, 'sandwiches'));
                sandwiches = sandwichesSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));

                const categoriesSnapshot = await getDocs(collection(window.db, 'categories'));
                categories = categoriesSnapshot.docs.map(doc => ({ id: doc.id, name: doc.data().name }));

                const branchesSnapshot = await getDocs(collection(window.db, 'branches'));
                branches = branchesSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));

                render();
            } catch (error) {
                console.error("Error loading data:", error);
                // Fallback to localStorage if Firebase fails
                branches = JSON.parse(localStorage.getItem('nagaf_branches')) || [];
                products = JSON.parse(localStorage.getItem('nagaf_items')) || [];
                sandwiches = JSON.parse(localStorage.getItem('nagaf_sandwiches')) || [];
                categories = JSON.parse(localStorage.getItem('nagaf_cats')) || ["Ø¹Ø§Ù…"];
                render();
            }
        }

        function showTab(tabId, btn) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
        }

        function previewImage(input) {
            const pre = document.getElementById('previewArea');
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = e => {
                    document.getElementById('imgPre').src = e.target.result;
                    pre.style.display = 'block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© (Ø§Ù„Ø£Ù‚Ø³Ø§Ù…)
        function updateSelects() {
            const cSelect = document.getElementById('pCat');
            const sSelect = document.getElementById('sCat');

            cSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…...</option>' +
                categories.map(c => `<option value="${c.name}">${c.name}</option>`).join('');
            sSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…...</option>' +
                categories.map(c => `<option value="${c.name}">${c.name}</option>`).join('');
        }

        // Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù…
        async function addCategory() {
            const name = document.getElementById('catName').value.trim();
            if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…");
            if(categories.some(c => c.name === name)) return alert("Ø§Ù„Ù‚Ø³Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„");

            try {
                await addDoc(collection(window.db, 'categories'), { name });
                document.getElementById('catName').value = '';
                loadData();
            } catch (error) {
                console.error("Error adding category:", error);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…");
            }
        }

        // Ø¥Ø¶Ø§ÙØ© ÙØ±Ø¹
        async function addBranch() {
            const name = document.getElementById('bName').value;
            const address = document.getElementById('bAddress').value;
            const time = document.getElementById('bTime').value;
            const phone = document.getElementById('bPhone').value;

            if(!name) return alert("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹");

            try {
                await addDoc(collection(window.db, 'branches'), { name, address, time, phone });
                ['bName','bAddress','bTime','bPhone'].forEach(id => document.getElementById(id).value = '');
                loadData();
            } catch (error) {
                console.error("Error adding branch:", error);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ±Ø¹");
            }
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
        async function addProduct() {
            const name = document.getElementById('pName').value;
            const price = document.getElementById('pPrice').value;
            const components = document.getElementById('pComponents').value;
            const category = document.getElementById('pCat').value;
            const offer = document.getElementById('pOffer').value;
            const visible = document.getElementById('oVisible').checked;
            const imgFile = document.getElementById('pImage').files[0];

            if(!name || !imgFile || !category) return alert("Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ù‚Ø³Ù… Ù…ØªØ·Ù„Ø¨Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©!");

            const reader = new FileReader();
            reader.onload = async function(e) {
                try {
                    await addDoc(collection(window.db, 'offers'), { name, price, components, category, offer, visible, image: e.target.result });
                    alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­");
                    document.getElementById('previewArea').style.display = 'none';
                    ['pName','pPrice','pComponents','pOffer','pImage'].forEach(id => document.getElementById(id).value = '');
                    document.getElementById('oVisible').checked = true;
                    loadData();
                } catch (error) {
                    console.error("Error adding product:", error);
                    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬");
                }
            };
            reader.readAsDataURL(imgFile);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ù†Ø¯ÙˆØªØ´
        async function addSandwich() {
            const name = document.getElementById('sName').value;
            const price = document.getElementById('sPrice').value;
            const category = document.getElementById('sCat').value;
            const offer = document.getElementById('sOffer').value;
            const imgFile = document.getElementById('sImage').files[0];

            if(!name || !imgFile || !category) return alert("Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ù‚Ø³Ù… Ù…ØªØ·Ù„Ø¨Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©!");

            const reader = new FileReader();
            reader.onload = async function(e) {
                try {
                    await addDoc(collection(window.db, 'sandwiches'), { name, price, category, offer, image: e.target.result });
                    alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­");
                    document.getElementById('previewArea').style.display = 'none';
                    ['sName','sPrice','sOffer','sImage'].forEach(id => document.getElementById(id).value = '');
                    loadData();
                } catch (error) {
                    console.error("Error adding sandwich:", error);
                    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´");
                }
            };
            reader.readAsDataURL(imgFile);
        }

        async function deleteItem(type, index) {
            if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")) return;

            const collectionName = type === 'p' ? 'offers' : type === 's' ? 'sandwiches' : type === 'b' ? 'branches' : 'categories';

            try {
                await deleteDoc(doc(window.db, collectionName, index));
                loadData();
            } catch (error) {
                console.error("Error deleting item:", error);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ±");
            }
        }

        function render() {
            updateSelects();

            // Ø±Ù†Ø¯Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            const catList = document.getElementById('catList');
            catList.innerHTML = categories.map((c) => `
                <div class="item-card" style="padding: 20px; text-align: center;">
                    <button class="delete-btn" onclick="deleteItem('c', '${c.id}')">Ã—</button>
                    <h3 style="color: var(--gold)">${c.name}</h3>
                </div>
            `).join('');

            // Ø±Ù†Ø¯Ø± Ø§Ù„ÙØ±ÙˆØ¹
            const bList = document.getElementById('bList');
            bList.innerHTML = branches.length ? branches.map((b) => `
                <div class="item-card">
                    <button class="delete-btn" onclick="deleteItem('b', '${b.id}')">Ã—</button>
                    <div class="item-info">
                        <h4>${b.name}</h4>
                        <p>ğŸ“ ${b.address}</p>
                    </div>
                </div>
            `).join('') : '<div class="empty-msg">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙØ±ÙˆØ¹</div>';

            // Ø±Ù†Ø¯Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶
            const pList = document.getElementById('pList');
            pList.innerHTML = products.length ? products.map((p) => `
                <div class="item-card">
                    <button class="delete-btn" onclick="deleteItem('p', '${p.id}')">Ã—</button>
                    <img src="${p.image}">
                    <div class="item-info">
                        <span class="tag">${p.category}</span>
                        <h4>${p.name}</h4>
                        <p>ğŸ’° ${p.price} Ø¬.Ù…</p>
                        ${p.components ? `<p>ğŸ§‚ ${p.components}</p>` : ''}
                    </div>
                </div>
            `).join('') : '<div class="empty-msg">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶</div>';

            // Ø±Ù†Ø¯Ø± Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´Ø§Øª
            const sList = document.getElementById('sList');
            sList.innerHTML = sandwiches.length ? sandwiches.map((s) => `
                <div class="item-card">
                    <button class="delete-btn" onclick="deleteItem('s', '${s.id}')">Ã—</button>
                    <img src="${s.image}">
                    <div class="item-info">
                        <span class="tag">${s.category}</span>
                        <h4>${s.name}</h4>
                        <p>ğŸ’° ${s.price} Ø¬.Ù…</p>
                    </div>
                </div>
            `).join('') : '<div class="empty-msg">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø§Ù†Ø¯ÙˆØªØ´Ø§Øª</div>';
        }

        function scrollToTabs() {
            document.querySelector('.tabs').scrollIntoView({ behavior: 'smooth' });
        }

        function logout() {
            localStorage.removeItem('admin_logged_in');
            window.location.href = 'login.html';
        }

        loadData();
    </script>

    <div class="floating-actions">
        <a href="index.html" class="btn-visit">ğŸ”— Ù…Ø¹Ø§ÙŠÙ†Ø©</a>
        <button class="btn-navigate" onclick="scrollToTabs()">ØªÙ†Ù‚Ù„</button>
        <button class="btn-logout" onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
</body>
</html>
</html>
